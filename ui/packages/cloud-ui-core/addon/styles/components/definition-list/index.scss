@use "pds/tokens/color";
@use "pds/tokens/font";
@use "pds/tokens/scale";

// FIXME: formatting
// FIXME: move mixins/vars to _config
// FIXME: use pds tokens/local vars to pds vars mapping
// FIXME: avoid font style overrides

$svga-width: 50rem;
$media-sm: $svga-width;

@mixin resetList {
  dt,
  dd {
    border: none;
    margin: 0;
    padding: 0;
  }
}

@mixin stackedList {
  @include resetList;

  display: block;
  margin: scale.$lg-1 0 scale.$lg-5 0;
  padding: 0;

  dt,
  dd {
    display: block;
    font-size: 14px;
    font-style: normal;
    line-height: 1.3;
  }

  dt {
    color: color.$ui-gray-900;
    font-style: normal;
    font-weight: font.$weight-semibold;
  }

  dd {
    color: color.$ui-gray-900;
    font-weight: font.$weight-regular;
    margin-bottom: scale.$lg-1;
  }
}

/*
    2fr    3fr
  +------+-------+
  | key  | value | auto
  +------+-------+
  | *    | *     |
  +------+-------+
*/
@mixin gridList {
  @include resetList;

  display: grid;
  grid-gap:
    /* row */ scale.$lg-1 /* col */ scale.$lg-2;

  // 2:3 ratio dt:dd width
  grid-template-columns:
     /* dt */
    2fr
    /* dd */ 3fr;

  dt {
    // term ("key") always goes in block start column
    //  - RTL: left column
    //  - LTR: right column
    grid-column: 1;
  }

  dd {
    // definition ("value") always goes in block end column
    //  - RTL: right column
    //  - LTR: left column
    grid-column: 2;
  }
}

dl.definitionList {
  @include stackedList;
}

// For medium and larger screens, if the browser supports
// CSS grid, the dt/dd pairs will be displayed side-by-side.
@media (min-width: $media-sm) {
  @supports (display: grid) {
    dl.definitionList {
      @include gridList;

      &--vertical {
        @include stackedList;
      }
    }
  }
}
